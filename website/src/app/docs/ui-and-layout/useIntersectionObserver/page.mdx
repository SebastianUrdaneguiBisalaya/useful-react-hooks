import CodeBlock from "@/components/shared/Codeblock";
import Demo from "@/app/docs/ui-and-layout/useIntersectionObserver/Demo";
import Table from "@/components/shared/Table";
import data from "@/app/docs/ui-and-layout/useIntersectionObserver/data.json";

# **useIntersectionObserver**

### A hook that monitors the visibility and intersection of a DOM element within a viewport.

#### **Installation**

<CodeBlock
  code={`npm install @vibehooks/react/useIntersectionObserver`}
  language="bash"
/>

#### **Description**

The **useIntersectionObserver** provides a declarative wrapper around the native Intersection Observer API. It is ideal for implementing lazy loading, infinite scrolling, or scroll-triggered animations. It supports a "once" mode that disconnects the observer after the first successful intersection and can accept an external ref or manage its own internal one.

#### **Parameters**

<Table data={data.parameters} />

#### **Return values**

<Table data={data.returnValues} />

#### **Demo**

<Demo />

#### **Source code**

```tsx
'use client';

import { useIntersectionObserver } from "@vibehooks/react/useIntersectionObserver";
import LayoutDemo from "@/layouts/LayoutDemo";
import { cn } from "@/lib/cn";

export default function Demo() {
  const { ref, isVisible } = useIntersectionObserver<HTMLDivElement>({
    threshold: 0.5,
    once: true,
  });

  return (
    <LayoutDemo
      title="Intersection Observer"
    >
      <div
        ref={ref}
        className={cn(
          'transition-all duration-700 rounded-2xl bg-neutral-900 border border-white/20 p-4',
          isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'
        )}
      >
        <p className="font-reddit-sans text-sm text-white w-full text-center">
          Visible on scroll ðŸ‘€
        </p>
      </div>
    </LayoutDemo>
  )
}
```
