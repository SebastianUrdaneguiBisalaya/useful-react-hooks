import { CodeBlock } from "@/components/shared/Codeblock";
import Demo from "@/app/docs/multimedia/useSmartVideo/Demo";
import Table from "@/components/shared/Table";
import data from "@/app/docs/multimedia/useSmartVideo/data.json";

# **useSmartVideo**

### An advanced video hook that combines intersection logic with playback control for automated "smart" behavior.

#### **Installation**

<CodeBlock
  code={`npm install @vibehooks/react/useSmartVideo`}
  language="bash"
/>

#### **Description**

The **useSmartVideo** leverages the **useIntersectionObserver** to trigger video actions based on the element's visibility in the viewport. It is ideal for social media feeds or landing pages where videos should play automatically when visible and pause or reset when scrolled out of view. It includes safety checks for browser autoplay policies (requiring **muted** and **playsInline**) and manages the internal playback state reactively.

#### **Parameters**

<Table data={data.parameters} />

#### **Return values**

<Table data={data.returnValues} />

#### **Demo**

<Demo />

#### **Source code**

```tsx
'use client';

import { useSmartVideo } from "@vibehooks/react/useSmartVideo";
import LayoutDemo from "@/layouts/LayoutDemo";
import { Button } from "@/components/ui/Button";

export default function Demo() {
  const { isPlaying, isVisible, pause, play, reset, stop, videoRef } = useSmartVideo({
    autoPlay: true,
    pauseOnExit: true,
    resetOnExit: true,
    threshold: 0.5,
  });

  return (
    <LayoutDemo
      title="Smart Video"
    >
      <video
        ref={videoRef}
        src="/video.mp4"
        className="aspect-video rounded-md w-full"
        controls
      />
      <div className="grid grid-cols-2 place-items-center md:grid-cols-4 gap-2">
        <Button.Secondary onClick={play}>
          Play
        </Button.Secondary>
        <Button.Secondary onClick={pause}>
          Pause
        </Button.Secondary>
        <Button.Secondary onClick={stop}>
          Stop
        </Button.Secondary>
        <Button.Secondary onClick={reset}>
          Reset
        </Button.Secondary>
      </div>
      <div className="flex flex-col md:flex-row items-center gap-0.5 md:gap-2">
        <p className="mt-2 text-sm font-reddit-sans text-white/40 text-center">
          Video is <span className="font-bold text-white/80">{isPlaying ? 'Playing' : 'Paused'}</span>.
        </p>
        <p className="mt-2 text-sm font-reddit-sans text-white/40 text-center">
          Video is <span className="font-bold text-white/80">{isVisible ? 'Visible' : 'Not visible'}</span>.
        </p>
      </div>
    </LayoutDemo>
  )
}
```
