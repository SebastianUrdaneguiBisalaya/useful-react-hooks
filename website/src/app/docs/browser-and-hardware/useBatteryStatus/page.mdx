import { CodeBlock } from "@/components/shared/Codeblock";
import Playground from "@/app/docs/browser-and-hardware/useBatteryStatus/Playground";
import Table from "@/components/shared/Table";
import data from "@/app/docs/browser-and-hardware/useBatteryStatus/data";

# **useBatteryStatus**

### A hardware-integration hook that provides real-time access to the system's battery levels, charging state, and timing estimates.

#### **Installation**

<CodeBlock
  code={`npm install @vibehooks/react/useBatteryStatus`}
  language="bash"
/>

#### **Description**

The **useBatteryStatus** hook with the native **Web Battery Status API** to retrieve live telemetry from the device's battery. It monitors charging status, current energy levels, and provides estimates for full charge or discharge times.

This hook is ideal for building progressive web apps (PWAs) that need to adjust behavior based on energy availability—such as pausing background synchronization, reducing animation complexity, or warning users before critical battery thresholds are met.

#### **Return values**

<Table data={data.returnValues} />

#### **Demo**

<Playground />

#### **Source code**

```typescript
'use client';

import { useState, useEffect } from 'react';
import { useBatteryStatus } from '@vibehooks/react/useBatteryStatus';
import { cn } from '@/lib/cn';

export default function Playground() {
  const [mounted, setMounted] = useState<boolean>(false);
  const { isSupported, battery } = useBatteryStatus();

  useEffect(() => {
    setTimeout(() => setMounted(true), 100);
  }, []);

  if (!mounted) {
    return (
    <div className="w-full border border-white/20 p-4 flex items-center justify-center">
      <span className="text-white/20 text-sm">Loading battery info…</span>
    </div>
  );
  }

  if (!isSupported) {
    return (
      <div className='w-full border border-white/20 p-4 flex flex-col items-center justify-center'>
        <span className='font-reddit-sans text-white/20 text-center'>Battery Status API is not supported in this browser or context.</span>
      </div>
    )
  }

  const { level, charging, chargingTime, dischargingTime } = battery;
  const percentage = level !== null ? Math.round(level * 100) : 0;

  return (
    <div className="p-4 w-ful rounded-lg shadow-sm border border-white/20 flex flex-col items-center gap-8">
      <div className="flex justify-between items-start gap-2">
        <div className='space-y-1'>
          <h3 className="text-lg font-bold text-white/60 font-sora">System Battery</h3>
          <p className="text-xs text-white/50 font-reddit-sans">Real-time hardware telemetry</p>
        </div>
        <span className={cn(
          'px-2 py-1 rounded text-[10px] font-bold uppercase font-reddit-sans',
          charging ? 'bg-green-100 text-green-800' : 'bg-black/20 text-white/60'
        )}>
          {charging ? 'Charging' : 'On Battery'}
        </span>
      </div>

      <div className="flex items-center gap-6">
        <div className="relative w-16 h-28 border-2 border-white/40 rounded-lg">
          <div className="absolute -top-3 left-1/2 -translate-x-1/2 w-6 h-2 bg-white/40 rounded-t" />
          <div
            className={cn(
              'w-full absolute bottom-0 left-0 right-0 rounded-lg transition-all duration-1000',
              percentage < 20 ? 'bg-red-500' : 'bg-emerald-500'
            )}
            style={{ height: `${percentage}%`, maxHeight: '100%' }}
          />
        </div>

        <div className="space-y-4">
          <div>
            <p className="text-4xl font-bold text-white/90 font-sora">{percentage}%</p>
            <p className="text-xs text-white/70 font-reddit-sans">Current Capacity</p>
          </div>

          <div className="text-xs space-y-1">
            {charging && chargingTime !== Infinity && (
              <p className="text-white/70 font-reddit-sans">Full in: {Math.round(chargingTime ?? 0 / 60)} mins</p>
            )}
            {!charging && dischargingTime !== Infinity && (
              <p className="text-white/70 font-reddit-sans">Left: {Math.round(dischargingTime ?? 0 / 60)} mins</p>
            )}
          </div>
        </div>
      </div>
    </div>
  )
}
```

