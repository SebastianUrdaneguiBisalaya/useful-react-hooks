import { CodeBlock } from "@/components/shared/Codeblock";
import Demo from "@/app/docs/browser-and-hardware/useNetworkInformation/Demo";
import Table from "@/components/shared/Table";
import data from "@/app/docs/browser-and-hardware/useNetworkInformation/data";

# **useNetworkInformation**

### A performance-aware hook that provides real-time network telemetry and user connectivity preferences to adapt application behavior.

#### **Installation**

<CodeBlock
  code={`npm install @vibehooks/react/useNetworkInformation`}
  language="bash"
/>

#### **Description**

The **useNetworkInformation** hook with the **Network Information API** to expose live data about the device's connection quality, such as bandwidth (**downlink**), latency (**rtt**), and connection type (e.g. WiFi, celullar). It also detects the user's explicit **saveData** preference.

This hook is essential for implementing **Adaptative Loading** strategies. By monitoring network conditions, applications can automatically serve lower-resolution assets, disable autoplay media, or defer non-critical background tasks when the user is on a congested or expensive connection.

#### **Return values**

<Table data={data.returnValues} />

#### **Demo**

<Demo />

#### **Source code**

```tsx
'use client';

import { useNetworkInformation } from "@vibehooks/react/useNetworkInformation";
import { cn } from '@/lib/cn';

export default function Demo() {
  const network = useNetworkInformation();

  if (!network.supported) {
    return <DefaultExperience />;
  }

  const isSlow = network.effectiveType === '2g' || network.effectiveType === 'slow-2g';
  const isDataSaver = network.saveData === true;
  const shouldOptimize = isSlow || isDataSaver;
  return (
    <div className="w-full p-4 border border-white/20 rounded-lg shadow-md">
      <header className="flex justify-between items-center mb-6">
        <h3 className="text-lg font-bold text-white/60 font-sora">Adaptive UI</h3>
        <div className="flex gap-2 items-center">
          <Badge color={shouldOptimize ? 'orange' : 'green'}>
            {network.effectiveType?.toUpperCase()}
          </Badge>
          {network.type && <Badge color="blue">{network.type}</Badge>}
        </div>
      </header>
      <div className="space-y-4">
        <div className="aspect-video rounded-lg flex items-center justify-center relative overflow-hidden">
          {shouldOptimize ? (
            <div className="text-center p-4">
              <p className="text-xs font-medium text-white/60 font-reddit-sans">Low-res preview active</p>
              <button className="mt-2 text-[10px] underline text-indigo-600 font-reddit-sans">Load High-res</button>
            </div>
          ) : (
            <div className="absolute font-reddit-sans inset-0 bg-linear-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold">
              Full HD Media
            </div>
          )}
        </div>
        <div className="grid grid-cols-2 gap-3">
          <Metric label="Latency" value={`${network.rtt}ms`} />
          <Metric label="Bandwidth" value={`${network.downlink} Mb/s`} />
        </div>

        {isDataSaver && (
          <p className="text-xs text-orange-500 font-reddit-sans bg-orange-50 p-2 rounded text-center font-medium">
            Data Saver is active: Prefetching disabled
          </p>
        )}
      </div>
    </div>
  )
}

function Badge ({ children, color }: { children: React.ReactNode, color: string }) {
  const colors: Record<string, string> = {
    orange: 'bg-orange-100 text-orange-700',
    green: 'bg-emerald-100 text-emerald-700',
    blue: 'bg-blue-100 text-blue-700',
  };
  return (
    <span
      className={cn(
        'px-2 py-0.5 rounded text-[10px] font-bold',
        colors[color]
      )}
    >
      {children}
    </span>
  );
};

function Metric({ label, value }: { label: string, value: string }) {
  return (
    <div className="p-2 space-y-1 rounded border border-white/40 text-center">
      <p className="text-[10px] uppercase font-bold text-white/60">{label}</p>
      <p className="text-sm font-semibold text-white/80">{value}</p>
    </div>
  );
}

function DefaultExperience() {
  return (
    <p className="font-reddit-sans text-white/80 text-center w-full">Standard Experience</p>
  )
}
```

