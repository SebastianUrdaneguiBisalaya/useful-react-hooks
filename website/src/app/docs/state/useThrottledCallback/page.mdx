import CodeBlock from "@/components/shared/Codeblock";
import Demo from "@/app/docs/state/useThrottledCallback/Demo";
import Table from "@/components/shared/Table";
import data from "@/app/docs/state/useThrottledCallback/data.json";

# **useThrottledCallback**

### A performance-optimization hook that limits the execution frequency of a callback to one per specified time window.

#### **Installation**

<CodeBlock
  code={`npm install @vibehooks/react/useThrottledCallback`}
  language="bash"
/>

#### **Description**

The **useThrottledCallback** transforms a high-frequency function into a throttled version that executes at most once every **delay** milliseconds. It is specifically designed for handling intensive events like **scroll**, **resize**, or **mousemove** where executing logic on every browser trigger would degrade UI performance.

The hook utilizes a **Leading-Edge** execution strategy: the first invocation triggers the callback inmediately, while subsequent calls within the delay window are ignored.

#### **Parameters**

<Table data={data.parameters} />

#### **Return values**

<Table data={data.returnValues} />

#### **Demo**

<Demo />

#### **Source code**

```tsx
'use client';

import { useState } from 'react';
import { useThrottledCallback } from '@vibehooks/react/useThrottledCallback';

export default function Demo() {
  const [rawCount, setRawCount] = useState<number>(0);
  const [throttledCount, setThrottledCount] = useState<number>(0);

  const throttledHandler = useThrottledCallback(
    () => {
      setThrottledCount(prevCount => prevCount + 1);
    },
    { delay: 100 }
  );

  const handleMouseMove = () => {
    setRawCount(prevCount => prevCount + 1);
    throttledHandler();
  };
  return (
    <div className="p-4 w-full space-y-4">
      <div
        onMouseMove={handleMouseMove}
        className="h-64 bg-black/40 rounded-xl flex flex-col items-center justify-center border border-dashed border-white/20 cursor-crosshair group transition-colors hover:border-white/90"
      >
        <p className="text-purple-500 font-sora text-sm animate-pulse">MOVE MOUSE HERE</p>
        <p className="text-white/40 text-xs mt-2 font-sora">Check the counters below</p>
      </div>

      <div className="grid grid-cols-2 gap-4">
        <div className="p-4 bg-black/40 border border-white/20 rounded-lg shadow-sm">
          <p className="text-[10px] font-bold text-white/80 font-reddit-sans uppercase tracking-widest">Raw Events</p>
          <p className="text-3xl font-reddit-sans font-bold text-white/80">{rawCount}</p>
          <p className="text-xs text-white/40 font-reddit-sans mt-1 italic">Updating ~60-120fps</p>
        </div>

        <div className="p-4 bg-black/40 border border-white/20 rounded-lg shadow-sm">
          <p className="text-[10px] font-bold font-reddit-sans text-purple-500 uppercase tracking-widest">Throttled (100ms)</p>
          <p className="text-3xl font-reddit-sans font-bold text-purple-500">{throttledCount}</p>
          <p className="text-xs text-white/40 mt-1 italic font-reddit-sans">Max 10 updates per second</p>
        </div>
      </div>
    </div>
  )
}
```
