import { CodeBlock } from "@/components/shared/Codeblock";
import Demo from "@/app/docs/environment-and-lifecycle/usePageVisibility/Demo";
import Table from "@/components/shared/Table";
import data from "@/app/docs/environment-and-lifecycle/usePageVisibility/data.json";

# **usePageVisibility**

### Provides the current visibility state of the document using the Page Visibility API.

#### **Installation**

<CodeBlock
  code={`npm install @vibehooks/react/usePageVisibility`}
  language="bash"
/>

#### **Description**

Synchronizes with the document's visibility state (whether the tab is active/focused or hidden/minimized). It uses **useSyncExternalStore** for high-performance subscription to the **visibilitychange** event, making it ideal for pausing videos, stopping polling, or analytics.

#### **Return values**

<Table data={data.returnValues} />

#### **Demo**

<Demo />

#### **Source code**

```tsx
'use client';

import { usePageVisibility } from "@vibehooks/react/usePageVisibility";
import LayoutDemo from "@/layouts/LayoutDemo";

export default function Demo() {
  const { isVisible, visibilityState } = usePageVisibility();
	return (
		<LayoutDemo
      title="Page Visibility"
    >
      <p className="text-sm text-center w-full text-white/60 font-reddit-sans">Document Status: <span className="font-bold text-white">{visibilityState}</span></p>
      <p className="font-reddit-sans text-white/60 w-full text-center text-sm">Is Visible: <span className="font-bold text-white">{isVisible ? '✅' : '❌'}</span></p>
      <p className="text-xs font-reddit-sans text-white/40">
        (Try switching tabs and coming back to see the state change)
      </p>
		</LayoutDemo>
	);
}
```
