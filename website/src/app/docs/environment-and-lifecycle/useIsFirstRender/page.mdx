import CodeBlock from "@/components/shared/Codeblock";
import Demo from "@/app/docs/environment-and-lifecycle/useIsFirstRender/Demo";
import Table from "@/components/shared/Table";
import data from "@/app/docs/environment-and-lifecycle/useIsFirstRender/data.json";

# **useIsFirstRender**

### Tracks whether the current render cycle is the initial mount of the component.

#### **Installation**

<CodeBlock
  code={`npm install @vibehooks/react/useIsFirstRender`}
  language="bash"
/>

#### **Description**

Utilizes a **useRef** to persist a boolean flag that is only **true** during the very first render. Subsequent re-renders will always return **false**. This is particularly useful for skipping **useEffect** logic on mount or triggering "Welcome" animations.

#### **Return values**

<Table data={data.returnValues} />

#### **Demo**

<Demo />


#### **Source code**

```tsx
'use client';

import { useState, useEffect } from "react";
import { useIsFirstRender } from "@vibehooks/react/useIsFirstRender";
import LayoutDemo from "@/layouts/LayoutDemo";

export default function Demo() {
  const isFirstRender = useIsFirstRender();
  const [count, setCount] = useState<number>(0);
  const [logs, setLogs] = useState<string[]>([]);

  const handleClick = () => {
    setCount(prevCount => prevCount + 1);
  }

  useEffect(() => {
    if (isFirstRender) return;
    setTimeout(() => {
      setLogs(prev => [
        ...prev,
        `Count changed to ${count}`
      ]);
    }, 100);
  }, [count, isFirstRender]);

	return (
		<LayoutDemo
      title="Analyzing if the component is the first render"
    >
      <div className="flex flex-col items-center gap-2 w-full">
        <p className="w-full font-reddit-sans text-sm text-center text-white/60">
          Click the button to change the count.
        </p>
        <button
          className="font-reddit-sans text-sm text-white/80 hover:text-white/90 transition-colors duration-500 ease-in-out border border-white/40 px-4 py-3 rounded-md cursor-pointer bg-neutral-900 hover:bg-neutral-950"
          onClick={handleClick}
        >
          Increment (Count: {count})
        </button>
      </div>
      <div className="w-full">
        <p className="w-full text-center font-reddit-sans text-sm text-white/60 font-semibold"></p>
        <ul className="flex flex-col items-center gap-2 w-full">
          {
            logs.length === 0 && (
              <li className="font-reddit-sans w-full text-center text-sm text-white/70">No effects executed yet.</li>
            )
          }
          {
            logs.map((log, idx) => (
              <li
                className="font-reddit-sans w-full text-center text-sm text-white/80"
                key={idx}
              >
                {log}
              </li>
            ))
          }
        </ul>
      </div>
		</LayoutDemo>
	);
}
```
