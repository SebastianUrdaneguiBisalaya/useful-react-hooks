import CodeBlock from "@/components/shared/Codeblock";
import Demo from "@/app/docs/ai/useSummarizer/Demo";
import Table from "@/components/shared/Table";
import data from "@/app/docs/ai/useSummarizer/data.json";

# **useSummarizer**

### Provides low-level access to the browser's built-in AI Summarizer API.

#### **Installation**

<CodeBlock
  code={`npm install @vibehooks/react/useSummarizer`}
  language="bash"
/>

#### **Description**

This hook interacts with local AI models provided by modern browsers (like Chrome's Gemini Nano integration). It allows checking if a summarization model is available, downloading it if necessary, and performing efficient, privacy-focused text summarization without sending data to a cloud server.

#### **Return values**

<Table data={data.returnValues} />

#### **Demo**

<Demo />

#### **Source code**

```tsx
'use client';

import { useState, useEffect } from "react";
import { useSummarizer } from "../../../../../../src";
import { Layout } from "@/layouts/Layout";
import { Button } from "@/components/ui/Button";
import { TextArea } from "@/components/ui/TextArea";

export default function Demo() {
  const [isMounted, setIsMounted] = useState<boolean>(false);
  const [summary, setSummary] = useState<string | null>(null);
  const [status, setStatus] = useState<string>('');
  const [text, setText] = useState<string>('');
  const {
    cancel,
    checkAvailability,
    create,
    summarize,
    destroy,
    isAbortError,
    isSupported
  } = useSummarizer();

  const run = async () => {
    try {
      setStatus('checking');

      const availability = await checkAvailability({
        length: 'long',
        type: 'tldr',
        inputLanguage: 'en',
        outputLanguage: 'es',
      });

      if (availability !== 'available') {
        setStatus(`unavailable (${availability})`);
        return;
      }

      setStatus('creating');
      await create({ type: 'tldr' });

      setStatus('summarizing');
      const result = await summarize(text);

      setSummary(result);
      setStatus('done');
    } catch (error: unknown) {
      if (isAbortError(error)) {
        setStatus('idle')
        return;
      }
      setStatus('error');
      console.error(error);
    } finally {
      destroy();
    }
  };

  const handleCancel = () => {
    cancel();
    setStatus('idle');
  }

  const handleChangeText = (event: React.ChangeEvent<HTMLTextAreaElement>) => {
    setText(event.target.value);
  }

  useEffect(() => {
    setTimeout(() => {
      setIsMounted(true);
    }, 100);
  }, []);

  if (!isMounted) {
    return (
      <Layout>
        <Layout.ContentLoading />
      </Layout>
    )
  }

  if (!isSupported) {
    return (
      <Layout>
        <Layout.ContentNotSupported>
          The Summarizer API is not supported in this browser.
        </Layout.ContentNotSupported>
      </Layout>
    )
  }

	return (
		<Layout>
      <Layout.Title>
        Summarizer AI
      </Layout.Title>
      <Layout.Caption>
        Status: {status}
		  </Layout.Caption>
      <TextArea.Primary
        onChange={handleChangeText}
        placeholder="Enter text here..."
        value={text}
      />
      <div className="flex flex-row items-center gap-2">
        <Button.Primary disabled={!isSupported || status === 'summarizing'} onClick={run}>
          Summarize
        </Button.Primary>
        <Button.Destructive disabled={status !== 'summarizing'} onClick={handleCancel}>
          Cancel
        </Button.Destructive>
      </div>
      <Layout.Paragraph>
        {summary}
      </Layout.Paragraph>
    </Layout>
	);
}
```
