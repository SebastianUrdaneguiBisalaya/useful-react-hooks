import CodeBlock from "@/components/shared/Codeblock";
import Demo from "@/app/docs/ai/useTranslator/Demo";
import Table from "@/components/shared/Table";
import data from "@/app/docs/ai/useTranslator/data.json";

# useTranslator

### Enables AI-powered text translation directly within the browser via the Translator API.

#### Installation

<CodeBlock
  code={`npm install @vibehooks/react/useTranslator`}
  language="bash"
/>

#### Description

Facilitates text translation between different language pairs using on-device or browser-integrated AI models. It includes built-in methods to verify if specific language pairs (e.g., English to Spanish) are supported before attempting the translation.

#### Parameters

<Table data={data.parameters} />

#### Return values

<Table data={data.returnValues} />

#### Demo

<Demo />

#### Source code

```tsx
'use client';

import { useState, useEffect } from "react";
import { useTranslator } from "../../../../../../src";
import { Layout } from "@/layouts/Layout";
import { Button } from "@/components/ui/Button";
import { TextArea } from "@/components/ui/TextArea";

export default function Demo() {
  const {
    error,
    isLanguagePairSupported,
    checkLanguageSupport,
    isSupported,
    isTranslating,
    translation,
    translate
  } = useTranslator({
    sourceLanguage: "es",
    targetLanguage: "en-US",
    onLanguageSupportCheck: (supported) => {
      console.log("Language pair supported:", supported);
    },
  });

  const [isMounted, setIsMounted] = useState<boolean>(false);
  const [text, setText] = useState<string>('Hola mundo!');

  useEffect(() => {
    setTimeout(() => {
      setIsMounted(true);
    }, 100);
  }, []);

  useEffect(() => {
    checkLanguageSupport()
      .catch(() => {});
  }, [checkLanguageSupport]);

  const handleTranslate = async () => {
    await translate(text)
  }

  const handleChangeText = (event: React.ChangeEvent<HTMLTextAreaElement>) => {
    setText(event.target.value);
  }

  if (!isMounted) {
    return (
      <Layout>
        <Layout.ContentLoading />
      </Layout>
    )
  }

  if (!isSupported) {
    return (
      <Layout>
        <Layout.ContentNotSupported>
          The Translator API is not supported in this browser.
        </Layout.ContentNotSupported>
      </Layout>
    )
  };

	return (
		<Layout>
      {error && <Layout.Error>{error?.message}</Layout.Error>}
      <TextArea.Primary
        value={text}
        onChange={handleChangeText}
        placeholder="Enter text here..."
      />
      <Button.Primary
        disabled={!isLanguagePairSupported || !isSupported || isTranslating}
        onClick={handleTranslate}
      >
        {isTranslating ? 'Translating...' : 'Translate'}
      </Button.Primary>
      <Layout.Paragraph>
        {translation}
      </Layout.Paragraph>
		</Layout>
	);
}
```
